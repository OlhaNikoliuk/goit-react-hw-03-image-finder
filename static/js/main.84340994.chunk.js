(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{20:function(e,t,n){},44:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(8),i=n.n(o),c=(n(20),n(12)),s=n(4),l=n(5),p=n(7),d=n(6),u=n(13),h=n(14),g=n.n(h),m=n(3);var b=Object(m.a)("div",{target:"eda5sjq0"})({name:"1085zez",styles:"position:fixed;top:50%;left:50%;transform:translate(-50%, -50%)"}),f=n(1);var x=function(){return Object(f.jsx)(b,{children:Object(f.jsx)(g.a,{type:"Grid",color:"#3f51b5",height:80,width:80,timeout:3e3})})};var j=function(e,t){return fetch("".concat("https://pixabay.com/api/","?q=").concat(e,"&page=").concat(t,"&key=").concat("21094416-818b6ee494a1708108f1a0838","&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.ok?e.json():(console.log(e),Promise.reject(new Error("Can`t find image with entered name")))}))},v=n(11);var y=Object(m.a)("header",{target:"e19atvrw4"})({name:"1ssw7nl",styles:"top:0;left:0;position:sticky;z-index:1100;display:flex;justify-content:center;align-items:center;min-height:64px;padding-right:24px;padding-left:24px;padding-top:12px;padding-bottom:12px;color:#fff;background-color:#3f51b5;box-shadow:0px 2px 4px -1px rgba(0, 0, 0, 0.2),0px 4px 5px 0px rgba(0, 0, 0, 0.14),0px 1px 10px 0px rgba(0, 0, 0, 0.12)"}),O=Object(m.a)("form",{target:"e19atvrw3"})({name:"kbgsnr",styles:"display:flex;align-items:center;width:100%;max-width:600px;background-color:#fff;border-radius:3px;overflow:hidden"}),w=Object(m.a)("button",{target:"e19atvrw2"})({name:"1f32h4y",styles:'display:inline-block;width:48px;height:48px;border:0;background-image:url("https://image.flaticon.com/icons/svg/149/149852.svg");background-size:40%;background-repeat:no-repeat;background-position:center;opacity:0.6;transition:opacity 250ms cubic-bezier(0.4, 0, 0.2, 1);cursor:pointer;outline:none;&:hover{opacity:1;}'}),k=Object(m.a)("span",{target:"e19atvrw1"})({name:"jnnlmv",styles:"position:absolute;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;clip-path:inset(50%);border:0"}),C=Object(m.a)("input",{target:"e19atvrw0"})({name:"fym289",styles:"display:inline-block;width:100%;font:inherit;font-size:20px;border:none;outline:none;padding-left:4px;padding-right:4px;&:placeholder{font:inherit;font-size:18px;}"}),S={searchQuery:""},z=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state=Object(v.a)({},S),e.onInputChange=function(t){e.setState({searchQuery:t.currentTarget.value.toLowerCase()})},e.onFormSubmit=function(t){t.preventDefault();var n=e.state.searchQuery;""!==n.trim()?(e.props.onSubmit(n),e.setState({searchQuery:""})):alert("Enter search image")},e.formReset=function(){e.setState(Object(v.a)({},S))},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this.state.searchQuery;return Object(f.jsx)(y,{children:Object(f.jsxs)(O,{onSubmit:this.onFormSubmit,children:[Object(f.jsx)(w,{type:"submit",children:Object(f.jsx)(k,{children:"Search"})}),Object(f.jsx)(C,{type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",onChange:this.onInputChange,value:e})]})})}}]),n}(a.Component);var I=Object(m.a)("ul",{target:"ejhmao70"})({name:"19gvzz0",styles:"display:grid;max-width:calc(100vw - 48px);grid-template-columns:repeat(auto-fill, minmax(320px, 1fr));grid-gap:16px;margin-top:20px;margin-bottom:0;padding:0;list-style:none;margin-left:auto;margin-right:auto"});var F=Object(m.a)("li",{target:"e1ret3ds1"})({name:"tg3mx0",styles:"border-radius:2px"}),L=Object(m.a)("img",{target:"e1ret3ds0"})({name:"1plt1o8",styles:"width:100%;height:260px;object-fit:cover;transition:transform 250ms cubic-bezier(0.4, 0, 0.2, 1);&:hover{transform:scale(1.03);cursor:zoom-in;}"});var M=function(e){var t=e.webformatURL,n=e.tags,a=e.onClick;return Object(f.jsx)(F,{children:Object(f.jsx)(L,{onClick:a,src:t,alt:n})})};var Q=function(e){var t=e.images,n=e.handleOpenModal;return Object(f.jsx)(I,{className:"ImageGallery",children:t.map((function(e){var t=e.id,a=e.webformatURL,r=e.largeImageURL,o=e.tags;return Object(f.jsx)(M,{webformatURL:a,tags:o,onClick:function(){return n(r)}},t)}))})};var B=Object(m.a)("button",{target:"e7cvmpk0"})({name:"1yg152b",styles:"min-width:100px;padding:8px 16px;border-radius:2px;background-color:#3f51b5;transition:all 250ms cubic-bezier(0.4, 0, 0.2, 1);text-align:center;display:inline-block;color:#fff;border:0;text-decoration:none;cursor:pointer;font-family:inherit;font-size:18px;line-height:24px;font-style:normal;font-weight:500;min-width:180px;box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2),0px 2px 2px 0px rgba(0, 0, 0, 0.14),0px 1px 5px 0px rgba(0, 0, 0, 0.12);margin:0 auto;margin-top:20px;&:hover,&:focus{background-color:#303f9f;}"});var D=function(e){var t=e.onClick;return Object(f.jsx)(B,{className:"Button",type:"button",onClick:t,children:"Load more"})};var E=Object(m.a)("div",{target:"e1lekqbj1"})({name:"8i9ttg",styles:"position:fixed;top:0;left:0;width:100vw;height:100vh;display:flex;justify-content:center;align-items:center;background-color:rgba(0, 0, 0, 0.8);z-index:1200"}),U=Object(m.a)("div",{target:"e1lekqbj0"})({name:"sve88p",styles:"max-width:calc(100vw - 48px);max-height:calc(100vh - 24px)"}),q=document.querySelector("#modal-root"),R=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleKeyDown=function(t){"Escape"===t.code&&e.props.onCloseModal()},e.handleBackdropClick=function(t){t.target===t.currentTarget&&e.props.onCloseModal()},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyDown)}},{key:"render",value:function(){return Object(o.createPortal)(Object(f.jsx)(E,{onClick:this.handleBackdropClick,children:Object(f.jsx)(U,{children:Object(f.jsx)("img",{src:this.props.selectedImg,alt:""})})}),q)}}]),n}(a.Component),T=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={images:[],searchQuery:"",page:1,loading:!1,selectedImg:null,error:null,status:"idle"},e.handleSearchForm=function(t){e.setState({searchQuery:t})},e.onBtnSearch=function(){e.setState((function(e){return{page:e.page+1}}))},e.toggleModal=function(t){e.setState({selectedImg:t})},e}return Object(l.a)(n,[{key:"componentDidUpdate",value:function(e,t){var n=this.state,a=n.searchQuery,r=n.page;t.searchQuery!==a&&(this.setState({status:"pending",page:1,images:[]}),this.fetchImages(a,r)),t.page!==r&&this.fetchImages(a,r)}},{key:"fetchImages",value:function(e,t){var n=this;j(e,t).then((function(e){var t=e.hits;0===t.length?u.b.error("Oops.. no images found",{duration:4e3,position:"top-right"}):(n.setState((function(e){var n=e.images;return{images:[].concat(Object(c.a)(n),Object(c.a)(t)),status:"resolved"}})),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"}))})).catch((function(e){return n.setState({error:e})}))}},{key:"render",value:function(){var e=this.state,t=e.selectedImg,n=e.images,a=e.status;return Object(f.jsxs)("div",{className:"App",children:[Object(f.jsx)(z,{onSubmit:this.handleSearchForm}),"pending"===a&&Object(f.jsx)(x,{}),"resolved"===a&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(Q,{handleOpenModal:this.toggleModal,images:n}),Object(f.jsx)(D,{onClick:this.onBtnSearch}),t&&Object(f.jsx)(R,{selectedImg:t,onCloseModal:this.toggleModal})]}),Object(f.jsx)(u.a,{})]})}}]),n}(a.Component),A=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,46)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,o=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),o(e),i(e)}))};i.a.render(Object(f.jsx)(r.a.StrictMode,{children:Object(f.jsx)(T,{})}),document.getElementById("root")),A()}},[[44,1,2]]]);
//# sourceMappingURL=main.84340994.chunk.js.map